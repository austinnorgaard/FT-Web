<div fxFlex fxLayout="column">
    <h1 fxFlex="0 0 auto" fxFlexAlign="center" style="margin-top: 0.5em;">Registration</h1>
    <form
        fxFlex
        #userRegisterForm="ngForm"
        autocomplete="false"
        (ngSubmit)="submit()"
        fxLayout="column"
        fxLayoutGap="0.5em"
        class="ft-form-container"
    >
        <div fxLayoutGap="0.5em">
            <mat-form-field fxFlex>
                <input matInput [(ngModel)]="userRegistration.user.firstName" name="firstName" placeholder="First Name" required />
            </mat-form-field>
            <mat-form-field fxFlex>
                <input matInput [(ngModel)]="userRegistration.user.lastName" name="lastName" placeholder="Last Name" required />
            </mat-form-field>
        </div>
        <div>
            <mat-form-field fxFlex>
                <input matInput [(ngModel)]="userRegistration.user.address1" name="address1" placeholder="Address Line 1" required />
            </mat-form-field>
        </div>
        <div>
            <mat-form-field fxFlex>
                <input matInput [(ngModel)]="userRegistration.user.address2" name="address2" placeholder="Address Line 2" />
            </mat-form-field>
        </div>
        <div fxLayoutGap="0.5em">
            <mat-form-field fxFlex>
                <input matInput [(ngModel)]="userRegistration.user.city" name="city" placeholder="City" required />
            </mat-form-field>
            <mat-form-field fxFlex>
                <input matInput [(ngModel)]="userRegistration.user.state" name="state" placeholder="State / Province" required />
            </mat-form-field>
        </div>
        <div fxLayoutGap="0.5em">
            <mat-form-field fxFlex>
                <input matInput [(ngModel)]="userRegistration.user.zipCode" name="zip" placeholder="Postal / Zip Code" required />
            </mat-form-field>
            <mat-form-field fxFlex>
                <mat-select [(ngModel)]="userRegistration.user.country" name="country" placeholder="Country" required>
                    <mat-option *ngFor="let country of countries" [value]="country"> {{ country }} </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div fxLayoutGap="0.5em">
            <mat-form-field fxFlex>
                <input matInput [(ngModel)]="userRegistration.user.phoneNumber" name="phoneNumber" type="tel" placeholder="Phone Number" required />
            </mat-form-field>
        </div>
        <div fxLayoutGap="0.5em">
            <mat-form-field fxFlex>
                <input
                    matInput
                    [(ngModel)]="userRegistration.user.email"
                    name="email"
                    type="email"
                    required
                    email
                    #email="ngModel"
                    placeholder="Email Address (this is your login!)"
                />
                <mat-error *ngIf="email.errors?.email || email.errors?.required">Email must be a valid email address</mat-error>
            </mat-form-field>
        </div>
        <div fxLayoutGap="0.5em">
            <mat-form-field fxFlex>
                <input
                    matInput
                    [(ngModel)]="userRegistration.password"
                    autocomplete="new-password"
                    name="password"
                    type="password"
                    placeholder="Password"
                    required
                    #password="ngModel"
                    minlength="8"
                />
                <mat-error *ngIf="password.errors?.minlength">Password must be at least 8 characters</mat-error>
            </mat-form-field>
        </div>
        <div fxLayoutGap="0.5em">
            <mat-checkbox [(ngModel)]="userRegistration.user.subscribedToNewsLetter" name="subscribe">Subscribe to newsletter</mat-checkbox>
        </div>
        <ngb-alert type="danger" *ngIf="!this.alertClosed" (close)="this.alertClosed = true">Email address is already in use!</ngb-alert>
        <div fxLayoutAlign="space-around">
            <button mat-raised-button type="submit" [disabled]="!userRegisterForm.form.valid" color="primary" fxFlex="25%">Submit</button>
        </div>
    </form>
</div>
